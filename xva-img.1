.\" Text automatically generated by txt2man
.TH xva-img 1 "19 June 2020" "xva-img-1.4.1" "Citrix XenServer .xva disk extraction tool"
.SH NAME
\fBxva-img \fP- Citrix XenServer .xva disk extraction tool
\fB
.SH SYNOPSIS
.nf
.fam C
\fBxva-img\fP [\fIOPTION\fP] [COMMAND]\.\.\.

.fam T
.fi
.fam T
.fi
.SH DESCRIPTION
xva-image is a tool to generate disk images from Citrix XenServer .xva VM images
as well as to generate .xva VM images from raw disks and the according ova.xml files.
.SH OPTIONS
\fB-h\fP, \fB--help\fP Show summary of options.
.PP
\fB-v\fP, \fB--version\fP Show version of program.
.PP
\fB-p\fP, \fB--progress\fP Show progress.
.PP
\fB-s\fP, \fB--sparse\fP Create sparse files on export.
.SH COMMANDS
package <xva-file> <file> [ ,<file>\.\.\. ]
.PP
disk-export <xva-disk> <disk-image>
.PP
disk-import <xva-disk> <disk-image>
.SH EXAMPLES
Extract the XVA file:
.PP
.nf
.fam C
    $ mkdir my-virtual-machine
    $ tar -xf my-virtual-machine.xva -C my-virtual-machine
    $ chmod -R 755 my-virtual-machine

.fam T
.fi
Extract one of the disks:
.PP
.nf
.fam C
    $ xva-img -p disk-export my-virtual-machine/Ref\\:1/ disk.raw

.fam T
.fi
Splice the disk file (remove all files in the folder, required not to make any unnecessary mistakes):
.PP
.nf
.fam C
    $ rm -rf my-virtual-machine/Ref\\:1/*
    $ xva-img -p disk-import my-virtual-machine/Ref1\\:/ disk.raw

.fam T
.fi
Rebuild the XVA file:
.PP
.nf
.fam C
    $ xva-img -p package my-virtual-machine-fixed.xva my-virtual-machine/ova.xml my-virtual-machine/Ref\\:1/

.fam T
.fi
Convert raw image to qcow2:
.PP
.nf
.fam C
    $ qemu-img convert -f raw -O qcow2 disk.raw disk.qcow2

.fam T
.fi
.SH SEE ALSO
\fBchmod\fP(1), \fBmkdir\fP(1), \fBqemu-img\fP(1), \fBrm\fP(1), \fBtar\fP(1).
.SH AUTHORS
\fBxva-img\fP was written by Erik Lax.
.PP
This manpage was written by Francisco Vilmar Cardoso Ruviaro for the Debian project (but may be used by others).
